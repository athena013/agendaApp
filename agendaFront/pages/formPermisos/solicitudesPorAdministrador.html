<!-- <div> -->
<!-- 	<mc-messages></mc-messages> -->
<!-- </div> -->
<div class="box">
	<div class="box-header with-border">
		<h3 class="box-title">Solicitudes Diligenciadas</h3>
	</div>
	<!--Ver y aprobar solicitudes de permiso Funcinoarias-->
        <div>
            <form class="well form-horizontal" method="post"  id="form" name="form" ng-submit="form.$valid && persistir()" ng-show="!form.submitted">
                <label class="control-label" >Filtro de busqueda de solicitudes</label>
                 <div class="row" ng-class="{ 'has-error' : form.tipoCriterio.$invalid && !form.tipoCriterio.$pristine}"> 
                     <div class="col-sm-3" >
                         <label class="control-label" >Seleccione CIOM</label> 
                             <div class="input-group" >
                                     <span class="input-group-addon"><i class="glyphicon glyphicon-info-sign"></i></span>
                                     <select name="ciom" placeholder="Seleccione casa de igualdad de oportunidades" class="form-control" ng-model="buscar.ID_CIOM" >
                                     <option value="">Seleccione casa de igualdad de oportunidades</option>
                                     <option ng-selected="{{buscar.ID_CIOM==ciom.ID_CIOM}}" ng-repeat="ciom in ciomList" value="{{ciom.ID_CIOM}}">{{ciom.ID_CIOM}} {{ciom.NOM_CIOM}}</option>
                                     </select>
                             </div>
                             <span class="text-danger pull-right" ng-show="form.ciom.$error.pattern" >C&#225;racter no permitido</span>
                             <span class="text-danger pull-right" ng-show="form.ciom.$dirty && form.ciom.$error.required">Campo requerido</span>
                     </div>
                     <div class="col-sm-3">
                                <div class="form" ng-class="{ 'has-error' : form.fInicio.$invalid && !form.fInicio.$pristine}">
                                    <label class="control-label" >Fecha desde: </label> 
                                    <div class="input-group date" data-provide="datepicker" data-date-format="yyyy/mm/dd">
                                        <div class="input-group-addon">
                                            <span class="glyphicon glyphicon-th"></span>
                                        </div>
                                        <input type="text" class="form-control" ng-model="buscar.fInicio" >
                                    </div>
                                </div>
                     </div>
                     <div class="col-sm-3" >
                             <div class="form" ng-class="{ 'has-error' : form.fFin.$invalid && !form.fFin.$pristine}">
                                    <label class="control-label" >Fecha hasta: </label> 
                                    <div class="input-group date" data-provide="datepicker" data-date-format="yyyy/mm/dd">
                                        <div class="input-group-addon">
                                            <span class="glyphicon glyphicon-th"></span>
                                        </div>
                                        <input type="text" class="form-control" ng-model="buscar.fFin" >
                                    </div>
                            </div>
                     </div>
                     <div class="col-sm-3" >
                             <label class="control-label" >Estado de aprobación</label> 
                                 <div class="input-group" >
                                     <span class="input-group-addon"><i class="glyphicon glyphicon-info-sign"></i></span>
                                     <select name="estadoAprob" placeholder="seleccione opciones de administración" class="form-control" ng-model="buscar.estadoAprob" >
                                     <option value="">Seleccione estabo de aprobación de permiso</option>
                                     <option ng-selected="{{estadoAprob.id == buscar.estadoAprob}}" ng-repeat="estadoAprob in estadoAprobList" value="{{estadoAprob.id}}">{{estadoAprob.ds}}</option>
                                     </select>
                                 </div>
                                 <span class="text-danger pull-right" ng-show="form.estadoAprob.$error.pattern" >C&#225;racter no permitido</span>
                                 <span class="text-danger pull-right" ng-show="form.estadoAprob.$dirty && form.estadoAprob.$error.required">Campo requerido</span>
                     </div>
                 </div>
                 <div class="row" > 

                        <div class="col-sm-3" >
                             <label class="control-label" >Tipo de solicitud de permiso</label> 
                                 <div class="input-group" >
                                     <span class="input-group-addon"><i class="glyphicon glyphicon-info-sign"></i></span>
                                     <select name="tipoSol" placeholder="seleccione tipo de solicitud de permiso" class="form-control" ng-model="buscar.tipoSol" >
                                     <option value="">Seleccione tipo de solicitud de permiso</option>
                                     <option ng-selected="{{tipoSol.id == buscar.tipoSol}}" ng-repeat="tipoSol in tipoSolList" value="{{tipoSol.id}}">{{tipoSol.ds}}</option>
                                     </select>
                                 </div>
                                 <span class="text-danger pull-right" ng-show="form.tipoSol.$error.pattern" >C&#225;racter no permitido</span>
                                 <span class="text-danger pull-right" ng-show="form.tipoSol.$dirty && form.tipoSol.$error.required">Campo requerido</span>
                         </div>
                     
                        <div class="col-sm-3">
                            <label class="control-label" >Número de documento Funcionaria: </label> 
                            <div>
                                <div class="input-group" >
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-info-sign"></i></span>
                                    <input name="cedula" placeholder="cedula" class="form-control" ng-model="buscar.numDoc">
                                </div>
                                <span class="text-danger pull-right" ng-show="form.numDoc.cedula.pattern" >C&#225;racter no permitido</span>
                                <span class="text-danger pull-right" ng-show="form.numDoc.cedula && form.numDoc.$error.required">Campo requerido</span>
                            </div>
                        </div>

                        <div class="col-sm-3" align="right">
                            <label class="control-label" >&nbsp;</label> 
                            <div class="form" >
                                <div align="right">
                                    <div class="input-group" >
                                        <button type="button" class="btn btn-info" ng-disabled="btnBuscarForm" ng-click="obtenerSolPer()" >Buscar formularios &nbsp;&nbsp;<span class="glyphicon glyphicon-search"></span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                     <div class="col-sm-3" >
                     </div>
                     <div class="col-sm-3" >
                     </div>
                 </div>
            </form>
         </div>
        
	<div class="box-body table-responsive">
		<table class="table table-striped table-bordered dataTable no-footer"
			datatable="ng">
			<thead>
				<tr>
					<th>Fecha Solicitud</th>
                                        <th>Desde (Fecha)</th>
                                        <th>Hasta (Fecha)</th>
					<th>CIOM</th>
                                        <th>Tipo de solicitud</th>
					<th>Vo Bueno.</th>
					<th>Aprob. DTDyP</th>
					<th>Aprob. DTH</th>
					<th>Opciones</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="solicitud in solPerList">
                                        <td>{{solicitud.FEC_FORM}}</td>
					<td>{{solicitud.FEC_INI_PERM}}</td>
					<td>{{solicitud.FEC_FIN_PERM}}</td>
                                        <td>{{solicitud.NOM_CIOM}}</td>
                                        <td>{{solicitud.DESC_TIPO_SOLPER}}</td>
					<td>
                                            <div ng-switch="solicitud.AUT0" style="text-align: center">
                                                <div ng-switch-when="1">
                                                    Si
                                                </div>
                                                <div ng-switch-when="2">
                                                    No
                                                </div>
                                                <div ng-switch-default>
                                                    Espera
                                                </div>
                                            </div>
                                        </td>
					<td>
                                            <div ng-switch="solicitud.AUT1" style="text-align: center">
                                                <div ng-switch-when="1">
                                                    Si
                                                </div>
                                                <div ng-switch-when="2">
                                                    No
                                                </div>
                                                <div ng-switch-default>
                                                    Espera
                                                </div>
                                            </div>
                                        </td>
					<td>
                                            <div ng-switch="solicitud.AUT2" style="text-align: center">
                                                <div ng-switch-when="1">
                                                    Si
                                                </div>
                                                <div ng-switch-when="2">
                                                    No
                                                </div>
                                                <div ng-switch-default>
                                                    Espera
                                                </div>
                                            </div>
                                        </td>
					<td>
                                            <a class="table-options" ng-click="verDetalle(solicitud)" alt="detalle">
                                                <span class="glyphicon glyphicon-search" aria-hidden="true" ></span>
                                            </a>
<!--                                            <a class="table-options" ng-click="eliminar(solicitud)" alt="eliminar" confirm="Esta seguro de eliminar el registro?" confirm-title="Por favor confirme" confirm-ok="Si" confirm-cancel="No">
                                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                            </a>-->
                                        </td>
				</tr>
			</tbody>
		</table>
            <div class="row">
                <label class="control-label" >&nbsp;</label> 
                    <div align="right">
                        <div class="input-group" >
                            <button type="button" class="btn btn-success" ng-disabled="bntReporte" ng-click="reporte()" >Exportar &nbsp;&nbsp;<span class="glyphicon glyphicon-download"></span></button>
                        </div>
                    </div>
            </div>
	</div>
</div>
